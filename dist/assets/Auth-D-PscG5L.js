import{_ as v,v as g,Y as h,r as u,c as _,b,e,a3 as w,a1 as i,a4 as d,y as r}from"./index-DeY1YHTF.js";import{i as L}from"./request-AGTuPeZF.js";const x="/assets/1_2-DvPToQTL.png",A={class:"login-container"},y={class:"form-container"},P={__name:"Auth",setup(k){const p=g(),c=h(),a=u(""),n=u(""),m=()=>{if(!a.value||!n.value){r.error("Please enter username and password");return}L.post("/php/login.php",{username:a.value,password:n.value}).then(t=>{const s=t.data;if(s&&s.code===0&&s.data){const{username:o,role:l,token:f}=s.data;c.setAuth(o,l,f),r.success("Login successful! Role: "+l),p.push("/dashboard")}else r.error(s&&s.message||"Login failed")}).catch(t=>{r.error("Login failed: "+(t&&t.message?t.message:""))})};return(t,s)=>(b(),_("div",A,[s[4]||(s[4]=e("img",{src:x,alt:"HonestWaves Icon",class:"login-icon"},null,-1)),e("div",y,[s[3]||(s[3]=e("h2",{class:"sub-title"},"Admin Portal",-1)),e("form",{class:"login-form",onSubmit:w(m,["prevent"])},[i(e("input",{type:"text",class:"form-input",placeholder:"Username","onUpdate:modelValue":s[0]||(s[0]=o=>a.value=o),required:""},null,512),[[d,a.value]]),i(e("input",{type:"password",class:"form-input",placeholder:"Password","onUpdate:modelValue":s[1]||(s[1]=o=>n.value=o),required:""},null,512),[[d,n.value]]),s[2]||(s[2]=e("button",{type:"submit",class:"login-btn"},"Login",-1))],32)])]))}},S=v(P,[["__scopeId","data-v-9fe2e6c0"]]);export{S as default};
