import{_ as z,r as f,g as q,c as b,b as h,e as a,d as s,w as l,u as o,E as g,h as J,f as d,n as S,j as p,k as _,s as K,l as W,m as Y,F as G,p as H,q as Q,t as r}from"./index-DeY1YHTF.js";const X={class:"notifications-page"},Z={class:"filter-section"},ee={class:"top-layout"},te={class:"sort-group"},ae={class:"middle-area"},se={class:"import-export-group"},oe={class:"top-right"},ie={class:"notifications-list"},le={class:"item-left"},re={class:"top-row"},ne={class:"bay-section"},ce={class:"content-section"},ue={class:"user-info-container"},de={class:"user-name"},pe={class:"device-info"},ve={class:"item-right"},ge={class:"action-btns"},me={class:"item-time"},ye={__name:"Notifications",setup(fe){const c=f([{content:"Door not fully closed",user:"Emilee Rodriguez",time:"12:28 PM",date:"August 21st, 2023",priority:1,bayNumber:8,deviceTypeID:"DEV-001",deviceName:"Smart Charger Pro",serialNumber:"SN-20230821001",nfcTag:"NFC-8A3B9C",chargingStatus:"Charging",damageStatus:"No Damage",category:"A1"},{content:"Device disconnected unexpectedly",user:"Marcus Wilson",time:"11:45 AM",date:"August 21st, 2023",priority:2,bayNumber:3,deviceTypeID:"DEV-002",deviceName:"Battery Tester",serialNumber:"SN-20230821002",nfcTag:"NFC-5D7E2F",chargingStatus:"Not Charging",damageStatus:"Minor Scratch",category:"A2"},{content:"Low battery alert",user:"Sophia Martinez",time:"10:30 AM",date:"August 20th, 2023",priority:3,bayNumber:5,deviceTypeID:"DEV-001",deviceName:"Smart Charger Pro",serialNumber:"SN-20230820001",nfcTag:"NFC-2C4D6E",chargingStatus:"Low Power",damageStatus:"No Damage",category:"A1"},{content:"Device overheating",user:"Liam Thompson",time:"02:15 PM",date:"August 19th, 2023",priority:4,bayNumber:12,deviceTypeID:"DEV-003",deviceName:"Power Inverter",serialNumber:"SN-20230819001",nfcTag:"NFC-9F1A3B",chargingStatus:"Charging",damageStatus:"No Damage",category:"A3"}]),v=f("priority"),m=f(""),y=f(""),D=q(()=>{let i=[...c.value];if(y.value&&(i=i.filter(e=>e.category===y.value)),v.value==="priority"?i.sort((e,t)=>t.priority-e.priority):i.sort((e,t)=>new Date(t.date)-new Date(e.date)),m.value.trim()){const e=m.value.toLowerCase();i=i.filter(t=>t.user.toLowerCase().includes(e)||t.bayNumber.toString().includes(e)||t.deviceTypeID.toLowerCase().includes(e)||t.deviceName.toLowerCase().includes(e)||t.serialNumber.toLowerCase().includes(e)||t.nfcTag.toLowerCase().includes(e)||t.chargingStatus.toLowerCase().includes(e)||t.damageStatus.toLowerCase().includes(e))}return i}),w=()=>{c.value=[]},A=i=>{c.value.splice(i,1)},T=i=>{console.log("打开Bay:",i)},E=i=>{const e=i.raw,t=new FileReader;t.onload=u=>{try{const n=JSON.parse(u.target.result);Array.isArray(n)&&(c.value=[...c.value,...n])}catch{const I=u.target.result.split(`
`).slice(1).filter(N=>N.trim()).map(N=>{const[L,F,V,x,B,U,j,M,O,P,R,$]=N.split(",");return{content:L||"",user:F||"",time:V||"",date:x||"",priority:Number(B)||1,bayNumber:Number(U)||0,deviceTypeID:j||"",deviceName:M||"",serialNumber:O||"",nfcTag:P||"",chargingStatus:R||"Unknown",damageStatus:$||"Unknown"}});c.value=[...c.value,...I]}},t.readAsText(e)},k=()=>{const e=[["content","user","time","date","priority","bayNumber","deviceTypeID","deviceName","serialNumber","nfcTag","chargingStatus","damageStatus"].join(","),...c.value.map(C=>Object.values(C).join(","))].join(`
`),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),u=URL.createObjectURL(t),n=document.createElement("a");n.href=u,n.download=`notifications_${new Date().toISOString().slice(0,10)}.csv`,n.click(),URL.revokeObjectURL(u)};return(i,e)=>(h(),b("div",X,[e[13]||(e[13]=a("h1",{class:"page-title"},"Notifications",-1)),a("div",Z,[s(o(J),{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=t=>y.value=t),placeholder:"All Categories",clearable:"",style:{width:"200px"}},{default:l(()=>[s(o(g),{label:"All Categories",value:""}),s(o(g),{label:"A1",value:"A1"}),s(o(g),{label:"A2",value:"A2"}),s(o(g),{label:"A3",value:"A3"}),s(o(g),{label:"A4",value:"A4"})]),_:1},8,["modelValue"])]),a("div",ee,[a("div",te,[s(o(p),{type:"primary",plain:"",class:S({"active-sort":v.value==="priority"}),onClick:e[1]||(e[1]=t=>v.value="priority")},{default:l(()=>[...e[4]||(e[4]=[d(" Prioritization sorting ",-1)])]),_:1},8,["class"]),s(o(p),{type:"default",plain:"",class:S({"active-sort":v.value==="time"}),onClick:e[2]||(e[2]=t=>v.value="time")},{default:l(()=>[...e[5]||(e[5]=[d(" Time sorting ",-1)])]),_:1},8,["class"])]),a("div",ae,[s(o(W),{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t),placeholder:"Search user, device info, bay number, status...",class:"search-input"},{prefix:l(()=>[s(o(_),{class:"search-icon"},{default:l(()=>[s(o(K))]),_:1})]),_:1},8,["modelValue"]),a("div",se,[s(o(Y),{class:"upload-btn",action:"#","auto-upload":!1,"on-change":E,accept:".csv,.json"},{default:l(()=>[s(o(p),{type:"success",plain:""},{default:l(()=>[...e[6]||(e[6]=[d("Import File",-1)])]),_:1})]),_:1}),s(o(p),{type:"primary",plain:"",onClick:k},{default:l(()=>[...e[7]||(e[7]=[d("Export File",-1)])]),_:1})])]),a("div",oe,[e[9]||(e[9]=a("div",{class:"system-time"},[a("div",null,"12:52:21 PM"),a("div",null,"May 6th, 2025")],-1)),s(o(p),{style:{"background-color":"#FF0400","font-weight":"700"},type:"danger",onClick:w},{default:l(()=>[...e[8]||(e[8]=[d("Clear All",-1)])]),_:1})])]),a("div",ie,[(h(!0),b(G,null,H(D.value,(t,u)=>(h(),b("div",{key:u,class:"notification-item"},[a("div",le,[a("div",re,[a("div",ne,[s(o(_),null,{default:l(()=>[s(o(Q))]),_:1}),d(" BAY "+r(t.bayNumber),1)]),a("div",ce,r(t.content),1)]),a("div",ue,[e[10]||(e[10]=a("div",{class:"user-label"},"USER",-1)),a("div",de,r(t.user),1)]),a("div",pe,[a("span",null,"Device: "+r(t.deviceTypeID)+" - "+r(t.deviceName),1),a("span",null,"SN: "+r(t.serialNumber),1),a("span",null,"NFC: "+r(t.nfcTag),1),a("span",null,"Charging: "+r(t.chargingStatus),1),a("span",null,"Damage: "+r(t.damageStatus),1)])]),a("div",ve,[a("div",ge,[s(o(p),{type:"primary",plain:"",onClick:n=>T(t)},{default:l(()=>[...e[11]||(e[11]=[d(" Open Bay ",-1)])]),_:1},8,["onClick"]),s(o(p),{type:"default",plain:"",onClick:n=>A(u)},{default:l(()=>[...e[12]||(e[12]=[d(" Dismiss ",-1)])]),_:1},8,["onClick"])]),a("div",me,[a("div",null,r(t.time),1),a("div",null,r(t.date),1)])])]))),128))])]))}},be=z(ye,[["__scopeId","data-v-4691f85f"]]);export{be as default};
