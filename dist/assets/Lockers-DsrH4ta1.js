import{_ as N,v as X,r,g as D,a as A,c as k,b as p,e as l,d as s,w as t,f as i,F as _,p as I,x as G,y as d,t as m,z as Q,n as P,A as O}from"./index-DeY1YHTF.js";const z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFESURBVHgB1VPBVcMwDP2BBcIGGqEb1BtQJkg4wRE26AawAWaCPCYgTEC5cUs3aDtBK8Xqs+u0tdNb/3v/JZElWdJXCpxGyZwxp8wJk9QmWDOXzAWzZf7odxYMs2GumNsR/NAizlb8FgXJJe/MWi8m7caozTK7nIsmkeO3JsmF0Zh9fKc5e1Tw4+gwLnGMGr5QyVkV+iLjEcEeMBTLwAlN8K2LyH9wAreRv/g02oH49TO28BsSVvOLtLhScRXFlprzpcAQBCeUCWytVrwIfKZHfB6RWFfCodhzDDuL/S0Ou6Ez/n3CwRZkgILC5uHBbeS4ZG6Yr8z/wC5dPDGf4f7uUv3Wei7PL7XZwJ6FcI1jcWep4CJxXmryfZWf+n4PP+s7jKw4hsVxsWW9G1wTCG5cozbsBvmo4cZEyBD3EhBc9cmfKcQOrCty3Gv5abYAAAAASUVORK5CYII=",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIuSURBVHgBnVQ9UsJAFN4EhrFisLSLJ1AvgLG0Ek9gPAHa8idhBup4AkOnFXACAlRWxBMQOss4NA7Dj9/LvDBLTAB9M8vuY9/7vve3UUREarVaUVXVQb1ed7H01Wp1pijKOXYNu0Y26/Xaw+ZDd2D7ATtHJIgiK9Vq1YDTC6sGgE6hP4n94mHZIGuDzEskwCVF2scxJ5EcU+TYXSyfFoA03NG6xJ0uQfhYVqPRMLcIAKwBuINjF869KAkc2iJB4JtbLpcFzlQLMwLOFWWjcNQdvvQXi8VVJpMRfyEJBSV+YCLy84B1q6CpEwbfsLKx3I+AhBqKEhUR8RfOYx4GL5KRxsEFAav46cGJpuFCNk6lUlTze8nXms/nlNkUtkXoNs4TBNKnaZMIgkARXBf3bUXE1/QFBgVSQTKVMglKCHKq+Q3089APdvZsNnu0LMuX8dSY9MYMLmh64NSVMsml0+k+AuiiJxeI9BT/tdnWyGazY8KQMdOyAkeDH5OH832z2XT4ykYpBGcSkJRKJeqXC90ol8s2sqI7jTAo1tgMYGRje6YaSuBB2fgNbGUCkqBEZEs+5MsYG/nVg6hUKpUCnIPIRUJPWq2Wm+Sv7gKnyAHeYXD69lAJ3KRM4iS1i8BxnG9d1+khviP1a9M030aj0edwOHTz+fyUh+EIQZwMBoPXOIy9JdolVD4Q34HI5Ib/nyAcYUGvU3rx+0QVBwqPH/UiHMWD5GACHj+PVnQUd8kPKHJIo9vmQBUAAAAASUVORK5CYII=",Z={class:"locker-container"},j={class:"header-bar"},q={class:"action-buttons"},$={class:"filter-section"},ee={class:"locker-grid"},le={class:"card-content"},ae={class:"card-header"},oe={class:"name-wrapper"},se={class:"name"},te={class:"wifi-icon-container"},ne={key:0,src:z,alt:"wifi",class:"wifi-icon"},ie={key:1,src:h,alt:"wifi",class:"wifi-icon"},ce={class:"bottom-icons"},ue={class:"info-section"},re={class:"info-row available-row"},de={class:"info-row damaged-row"},ve={class:"dialog-footer"},Ae={__name:"Lockers",setup(pe){X();const y=r(!1),b=r(!1),w=r(-1),o=r({name:"",sn:"",location:"",lockerType:""}),f=r(null),g=r(-1),v=r(null),c=r([{name:"A1",sn:"60394AFA",location:"HW-001",lockerType:"RJW-32",devicesInUse:"5",availableDevices:"24",damagedDevices:"3",online:!0,type:"type1",category:"A1"},{name:"A2",sn:"60394AFA",location:"HW-002",lockerType:"RJW-33",devicesInUse:"2",availableDevices:"27",damagedDevices:"1",online:!1,type:"type2",category:"A2"},{name:"A3",sn:"60394AFA",location:"HW-003",lockerType:"RJW-32",devicesInUse:"8",availableDevices:"21",damagedDevices:"2",online:!0,type:"type3",category:"A3"},{name:"A4",sn:"60394AFA",location:"HW-004",lockerType:"RJW-34",devicesInUse:"6",availableDevices:"23",damagedDevices:"1",online:!1,type:"type1",category:"A4"},{name:"A2",sn:"60394AFA",location:"HW-002",lockerType:"RJW-33",devicesInUse:"2",availableDevices:"27",damagedDevices:"1",online:!0,type:"type2",category:"A2"},{name:"A1",sn:"60394AFA",location:"HW-001",lockerType:"RJW-32",devicesInUse:"5",availableDevices:"24",damagedDevices:"3",online:!1,type:"type1",category:"A1"},{name:"A3",sn:"60394AFA",location:"HW-003",lockerType:"RJW-32",devicesInUse:"8",availableDevices:"21",damagedDevices:"2",online:!0,type:"type3",category:"A3"},{name:"A4",sn:"60394AFA",location:"HW-004",lockerType:"RJW-34",devicesInUse:"6",availableDevices:"23",damagedDevices:"1",online:!1,type:"type1",category:"A4"}]),B=r(""),E=D(()=>{const n=c.value.map(e=>e.location);return[...new Set(n)].sort()}),W=D(()=>B.value?c.value.filter(n=>n.location===B.value):c.value),R=n=>{n===-1||n>=c.value.length||O.confirm("Are you sure you want to delete this locker? You will have 30 seconds to restore it.",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning",confirmButtonClass:"confirm-delete-btn",cancelButtonClass:"cancel-delete-btn"}).then(()=>{f.value={...c.value[n]},g.value=n,c.value.splice(n,1);const e=d({type:"success",duration:3e4,showClose:!0,dangerouslyUseHTMLString:!0,message:`
        <div style="display: flex; align-items: center; justify-content: space-between; gap: 20px;">
          <span>Locker deleted successfully. You have 30 seconds to restore it.</span>
          <button 
            id="restore-btn" 
            style="
              background-color: #0C306C; 
              color: white; 
              border: none; 
              padding: 6px 16px; 
              border-radius: 4px; 
              cursor: pointer;
              font-weight: 600;
              white-space: nowrap;
            "
          >
            Restore
          </button>
        </div>
      `,onClose:()=>{f.value=null,g.value=-1,v.value&&(clearTimeout(v.value),v.value=null)}});setTimeout(()=>{const u=document.getElementById("restore-btn");u&&(u.onclick=()=>{x(),e.close()})},100),v.value=setTimeout(()=>{f.value=null,g.value=-1,v.value=null},3e4)}).catch(()=>{d.info("Delete cancelled")})},x=()=>{f.value&&g.value!==-1&&(c.value.splice(g.value,0,f.value),d.success("Locker restored successfully"),f.value=null,g.value=-1,v.value&&(clearTimeout(v.value),v.value=null))},J=()=>{b.value=!1,w.value=-1,o.value={name:"",sn:"",location:"",lockerType:""},y.value=!0},S=(n,e)=>{b.value=!0,w.value=e,o.value={name:n.name,sn:n.sn,location:n.location,lockerType:n.lockerType},y.value=!0},Y=()=>{if(!o.value.name.trim()){d.warning("Please enter locker name");return}if(!o.value.sn.trim()){d.warning("Please enter serial number");return}if(!o.value.location.trim()){d.warning("Please enter location");return}if(!o.value.lockerType.trim()){d.warning("Please enter locker type");return}b.value?(c.value[w.value]={...c.value[w.value],name:o.value.name,sn:o.value.sn,location:o.value.location,lockerType:o.value.lockerType},d.success("Locker updated successfully")):(c.value.push({name:o.value.name,sn:o.value.sn,location:o.value.location,lockerType:o.value.lockerType,devicesInUse:"0",availableDevices:"0",damagedDevices:"0",online:!0,type:"type1",category:o.value.name}),d.success("Locker added successfully")),y.value=!1};return(n,e)=>{const u=A("el-button"),V=A("router-link"),C=A("el-option"),F=A("el-select"),L=A("el-input"),T=A("el-form-item"),H=A("el-form"),K=A("el-dialog");return p(),k("div",Z,[l("div",j,[e[10]||(e[10]=l("h2",null,"Lockers",-1)),l("div",q,[s(V,{to:"/Locker_Type"},{default:t(()=>[s(u,{type:"",class:"locker-type-btn"},{default:t(()=>[...e[7]||(e[7]=[i("Locker Type",-1)])]),_:1})]),_:1}),s(V,{to:"/Location"},{default:t(()=>[s(u,{type:"",class:"location-btn"},{default:t(()=>[...e[8]||(e[8]=[i("Location",-1)])]),_:1})]),_:1}),s(u,{type:"primary",class:"add-locker-btn",onClick:J},{default:t(()=>[...e[9]||(e[9]=[i(" Add Locker ",-1)])]),_:1})])]),l("div",$,[s(F,{modelValue:B.value,"onUpdate:modelValue":e[0]||(e[0]=a=>B.value=a),placeholder:"All Locations",clearable:"",style:{width:"250px"}},{default:t(()=>[s(C,{label:"All Locations",value:""}),(p(!0),k(_,null,I(E.value,a=>(p(),G(C,{key:a,label:`Location: ${a}`,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),l("div",ee,[(p(!0),k(_,null,I(W.value,(a,U)=>(p(),k("div",{key:U,class:"locker-card"},[l("div",le,[l("div",ae,[l("div",oe,[e[11]||(e[11]=l("span",{class:"label"},"Name : ",-1)),l("span",se,m(a.name),1)]),l("div",te,[a.online?(p(),k("img",ne)):(p(),k("img",ie))]),l("div",ce,[e[12]||(e[12]=l("i",{class:"el-icon-bell",style:{color:"#FF0400"}},null,-1)),l("i",{class:P(a.online?"el-icon-wifi":"el-icon-wifi-off"),style:Q(a.online?"color: #2c3e50;":"color: #ccc;")},null,6)])]),l("div",ue,[l("p",null,[e[13]||(e[13]=l("span",{class:"label"},"SN:",-1)),i(" "+m(a.sn),1)]),l("p",null,[e[14]||(e[14]=l("span",{class:"label"},"Location:",-1)),i(" "+m(a.location),1)]),l("p",null,[e[15]||(e[15]=l("span",{class:"label"},"Locker Type:",-1)),i(" "+m(a.lockerType),1)]),l("p",null,[e[16]||(e[16]=l("span",{class:"label"},"Devices In Use:",-1)),i(" "+m(a.devicesInUse),1)]),l("div",re,[l("p",null,[e[17]||(e[17]=l("span",{class:"label"},"Available Devices:",-1)),i(" "+m(a.availableDevices),1)]),s(u,{type:"",class:"action-btn edit-btn",onClick:M=>S(a,U)},{default:t(()=>[...e[18]||(e[18]=[i(" Edit ",-1)])]),_:1},8,["onClick"])]),l("div",de,[l("p",null,[e[19]||(e[19]=l("span",{class:"label"},"Damaged Devices:",-1)),i(" "+m(a.damagedDevices),1)]),s(u,{class:"action-btn delete-btn",onClick:M=>R(U)},{default:t(()=>[...e[20]||(e[20]=[i(" Delete ",-1)])]),_:1},8,["onClick"])])])])]))),128))]),s(K,{modelValue:y.value,"onUpdate:modelValue":e[6]||(e[6]=a=>y.value=a),title:b.value?"Edit Locker":"Add Locker",width:"565px",style:{"--you-dialog-width":"565px","font-weight":"700",color:"#000",gap:"28px","border-radius":"24px","padding-top":"52px","padding-right":"24px","padding-bottom":"52px","padding-left":"24px"},"custom-class":"custom-dialog","close-on-click-modal":!1},{footer:t(()=>[l("span",ve,[s(u,{type:"default",class:"cancel-btn",onClick:e[5]||(e[5]=a=>y.value=!1)},{default:t(()=>[...e[21]||(e[21]=[i("Cancel",-1)])]),_:1}),s(u,{type:"primary",class:"save-btn",onClick:Y},{default:t(()=>[...e[22]||(e[22]=[i("Save",-1)])]),_:1})])]),default:t(()=>[s(H,{model:o.value,"label-position":"top",class:"locker-form"},{default:t(()=>[s(T,{label:"Name*"},{default:t(()=>[s(L,{modelValue:o.value.name,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.name=a),placeholder:"Enter locker name (e.g., A1, A2)"},null,8,["modelValue"])]),_:1}),s(T,{label:"SN*"},{default:t(()=>[s(L,{modelValue:o.value.sn,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.sn=a),placeholder:"Enter serial number (e.g., 60394AFA)"},null,8,["modelValue"])]),_:1}),s(T,{label:"Location*"},{default:t(()=>[s(L,{modelValue:o.value.location,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.location=a),placeholder:"Enter location (e.g., HW-001)"},null,8,["modelValue"])]),_:1}),s(T,{label:"Locker Type*"},{default:t(()=>[s(L,{modelValue:o.value.lockerType,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.lockerType=a),placeholder:"Enter locker type (e.g., RJW-32)"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},ye=N(Ae,[["__scopeId","data-v-5822508e"]]);export{ye as default};
