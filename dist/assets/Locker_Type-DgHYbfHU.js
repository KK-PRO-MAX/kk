import{_ as j,v as G,r as u,g as V,a as v,c as h,b as L,e as l,d as t,w as s,u as o,B as H,k as g,f as r,F as q,p as K,C as N,D as R,G as E,y as m,t as C,A as O}from"./index-DeY1YHTF.js";const Q={class:"locker-container"},X={class:"header-bar"},Z={class:"action-buttons"},ee={class:"locker-grid"},te={class:"card-content"},se={class:"info-section"},le={class:"label-row"},ae={class:"label"},ne={class:"label label-right"},oe={class:"value-row"},de={class:"department-value"},re={class:"devices-value"},ie={class:"label"},ue={class:"bays-value"},ce={class:"button-row"},pe={class:"dialog-footer"},me={__name:"Locker_Type",setup(ve){const J=G(),y=u(!1),k=u(!1),w=u(-1),a=u({department:"",baysNumber:32,assignedBays:""}),W=()=>{J.back()},f=u(null),b=u(-1),c=u(null),i=u([{department:"RJW-32",devicesAssigned:32,assignedBays:"32-slot locker with standard size compartments"},{department:"RJW-33",devicesAssigned:32,assignedBays:"32-slot locker with medium size compartments"},{department:"RJW-34",devicesAssigned:32,assignedBays:"32-slot locker with large size compartments"},{department:"RJW-35",devicesAssigned:32,assignedBays:"32-slot locker with mixed size compartments"},{department:"RJW-36",devicesAssigned:32,assignedBays:"32-slot locker with extra large compartments"},{department:"RJW-37",devicesAssigned:32,assignedBays:"32-slot locker with compact design"},{department:"RJW-38",devicesAssigned:32,assignedBays:"32-slot locker with smart lock system"},{department:"RJW-39",devicesAssigned:32,assignedBays:"32-slot locker with temperature control"}]),T=u("");V(()=>{const n=i.value.map(e=>e.department);return[...new Set(n)].sort()});const D=V(()=>T.value?i.value.filter(n=>n.department===T.value):i.value),I=n=>{n===-1||n>=i.value.length||O.confirm("Are you sure you want to delete this locker type? You will have 30 seconds to restore it.",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning",confirmButtonClass:"confirm-delete-btn",cancelButtonClass:"cancel-delete-btn"}).then(()=>{f.value={...i.value[n]},b.value=n,i.value.splice(n,1);const e=m({type:"success",duration:3e4,showClose:!0,dangerouslyUseHTMLString:!0,message:`
        <div style="display: flex; align-items: center; justify-content: space-between; gap: 20px;">
          <span>Locker type deleted successfully. You have 30 seconds to restore it.</span>
          <button 
            id="restore-btn" 
            style="
              background-color: #0C306C; 
              color: white; 
              border: none; 
              padding: 6px 16px; 
              border-radius: 4px; 
              cursor: pointer;
              font-weight: 600;
              white-space: nowrap;
            "
          >
            Restore
          </button>
        </div>
      `,onClose:()=>{f.value=null,b.value=-1,c.value&&(clearTimeout(c.value),c.value=null)}});setTimeout(()=>{const p=document.getElementById("restore-btn");p&&(p.onclick=()=>{S(),e.close()})},100),c.value=setTimeout(()=>{f.value=null,b.value=-1,c.value=null},3e4)}).catch(()=>{m.info("Delete cancelled")})},S=()=>{f.value&&b.value!==-1&&(i.value.splice(b.value,0,f.value),m.success("Locker type restored successfully"),f.value=null,b.value=-1,c.value&&(clearTimeout(c.value),c.value=null))},U=()=>{k.value=!1,w.value=-1,a.value={department:"",baysNumber:32,assignedBays:""},y.value=!0},z=(n,e)=>{k.value=!0,w.value=e,a.value={department:n.department,baysNumber:n.devicesAssigned,assignedBays:n.assignedBays},y.value=!0},M=()=>{if(!a.value.department.trim()){m.warning("Please enter locker type name");return}if(!a.value.baysNumber){m.warning("Please select bays number");return}if(!a.value.assignedBays.trim()){m.warning("Please enter detailed description");return}k.value?(i.value[w.value]={...i.value[w.value],department:a.value.department,devicesAssigned:a.value.baysNumber,assignedBays:a.value.assignedBays},m.success("Locker type updated successfully")):(i.value.push({department:a.value.department,devicesAssigned:a.value.baysNumber,assignedBays:a.value.assignedBays}),m.success("Locker type added successfully")),y.value=!1};return(n,e)=>{const p=v("el-button"),A=v("el-input"),B=v("el-form-item"),_=v("el-option"),P=v("el-select"),$=v("el-form"),F=v("el-dialog");return L(),h("div",Q,[l("div",X,[t(o(g),{class:"back-arrow",onClick:W},{default:s(()=>[t(o(H))]),_:1}),e[6]||(e[6]=l("h2",null,"Locker Type",-1)),l("div",Z,[t(p,{type:"primary",class:"add-locker-type-btn",onClick:U},{default:s(()=>[...e[5]||(e[5]=[r(" Add Locker Type ",-1)])]),_:1})])]),l("div",ee,[(L(!0),h(q,null,K(D.value,(d,x)=>(L(),h("div",{key:x,class:"locker-card"},[l("div",te,[l("div",se,[l("div",le,[l("span",ae,[t(o(g),{style:{"margin-right":"6px","vertical-align":"middle"}},{default:s(()=>[t(o(N))]),_:1}),e[7]||(e[7]=r(" Locker Type ",-1))]),l("span",ne,[t(o(g),{style:{"margin-right":"6px","vertical-align":"middle"}},{default:s(()=>[t(o(R))]),_:1}),e[8]||(e[8]=r(" Bays Number ",-1))])]),l("div",oe,[l("span",de,C(d.department),1),l("span",re,C(d.devicesAssigned),1)]),l("p",null,[l("span",ie,[t(o(g),{style:{"margin-right":"6px","vertical-align":"middle"}},{default:s(()=>[t(o(E))]),_:1}),e[9]||(e[9]=r(" Detail ",-1))])]),l("p",ue,C(d.assignedBays),1),l("div",ce,[t(p,{type:"",class:"action-btn edit-btn",onClick:Y=>z(d,x)},{default:s(()=>[...e[10]||(e[10]=[r(" Edit ",-1)])]),_:1},8,["onClick"]),t(p,{class:"action-btn delete-btn",onClick:Y=>I(x)},{default:s(()=>[...e[11]||(e[11]=[r(" Delete ",-1)])]),_:1},8,["onClick"])])])])]))),128))]),t(F,{modelValue:y.value,"onUpdate:modelValue":e[4]||(e[4]=d=>y.value=d),title:k.value?"Edit Locker Type":"Add Locker Type",width:"565px",style:{"--you-dialog-width":"565px","font-weight":"700",color:"#000",gap:"28px","border-radius":"24px","padding-top":"52px","padding-right":"24px","padding-bottom":"52px","padding-left":"24px"},"custom-class":"custom-dialog","close-on-click-modal":!1},{footer:s(()=>[l("span",pe,[t(p,{type:"default",class:"cancel-btn",onClick:e[3]||(e[3]=d=>y.value=!1)},{default:s(()=>[...e[15]||(e[15]=[r("Cancel",-1)])]),_:1}),t(p,{type:"primary",class:"save-btn",onClick:M},{default:s(()=>[...e[16]||(e[16]=[r("Save",-1)])]),_:1})])]),default:s(()=>[t($,{model:a.value,"label-position":"top",class:"location-form"},{default:s(()=>[t(B,null,{label:s(()=>[l("span",null,[t(o(g),{style:{"margin-right":"6px","vertical-align":"middle"}},{default:s(()=>[t(o(N))]),_:1}),e[12]||(e[12]=r(" Locker Type* ",-1))])]),default:s(()=>[t(A,{modelValue:a.value.department,"onUpdate:modelValue":e[0]||(e[0]=d=>a.value.department=d),placeholder:"Enter locker type (e.g., RJW-32, RJW-33)"},null,8,["modelValue"])]),_:1}),t(B,null,{label:s(()=>[l("span",null,[t(o(g),{style:{"margin-right":"6px","vertical-align":"middle"}},{default:s(()=>[t(o(R))]),_:1}),e[13]||(e[13]=r(" Bays Number* ",-1))])]),default:s(()=>[t(P,{modelValue:a.value.baysNumber,"onUpdate:modelValue":e[1]||(e[1]=d=>a.value.baysNumber=d),placeholder:"Select bays number",style:{width:"100%"}},{default:s(()=>[t(_,{label:"24",value:24}),t(_,{label:"32",value:32}),t(_,{label:"36",value:36}),t(_,{label:"48",value:48}),t(_,{label:"60",value:60}),t(_,{label:"72",value:72})]),_:1},8,["modelValue"])]),_:1}),t(B,null,{label:s(()=>[l("span",null,[t(o(g),{style:{"margin-right":"6px","vertical-align":"middle"}},{default:s(()=>[t(o(E))]),_:1}),e[14]||(e[14]=r(" Detail* ",-1))])]),default:s(()=>[t(A,{modelValue:a.value.assignedBays,"onUpdate:modelValue":e[2]||(e[2]=d=>a.value.assignedBays=d),placeholder:"Enter detailed description",type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},ye=j(me,[["__scopeId","data-v-a3b4a5fe"]]);export{ye as default};
